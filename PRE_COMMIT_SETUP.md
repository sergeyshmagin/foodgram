# Pre-commit Setup для Foodgram

## Что настроено

Pre-commit хуки автоматически запускаются перед каждым коммитом и проверяют:

1. **Базовые проверки:**
   - Удаление trailing whitespace
   - Добавление newline в конец файлов
   - Проверка YAML файлов
   - Проверка на большие файлы

2. **Python код:**
   - **Black** - автоматическое форматирование кода (line-length=79)
   - **isort** - сортировка импортов
   - **flake8** - проверка PEP8 стандартов

## Как использовать

### Автоматическая проверка при коммите
```bash
git add .
git commit -m "Ваше сообщение"
# Pre-commit хуки запустятся автоматически!
```

### Ручная проверка всех файлов
```bash
pre-commit run --all-files
```

### Быстрая проверка перед деплоем
```bash
python check_before_deploy.py
```

## Что делать если pre-commit не пройден

1. **Если код автоматически исправлен** (black, isort):
   ```bash
   # Файлы уже исправлены, просто добавьте их и коммитните снова
   git add .
   git commit -m "Ваше сообщение"
   ```

2. **Если есть ошибки flake8**:
   - Исправьте ошибки вручную
   - Или запустите: `python lint.py --fix` (если доступно)
   - Затем коммините снова

## Польза

✅ **Никаких падений деплоя из-за линтера!**
✅ **Единообразный стиль кода в команде**
✅ **Автоматическое исправление простых ошибок**
✅ **Проверка перед отправкой в GitHub**

## Отключение (не рекомендуется)

Если нужно экстренно пропустить проверки:
```bash
git commit -m "Ваше сообщение" --no-verify
```

**Не используйте без крайней необходимости!** 