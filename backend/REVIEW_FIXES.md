# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—á–∞–Ω–∏–π —Ä–µ–≤—å—é–≤–µ—Ä–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (0 –∑–Ω–∞—á–µ–Ω–∏–µ)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç —Å 0 –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ –Ω–µ –≤—ã—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –æ–± –æ—à–∏–±–∫–µ.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **Backend:** –£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `RecipeCreateUpdateSerializer.validate_ingredients()` –¥–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏ –≤—ã–≤–æ–¥–∞ –ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- **Frontend:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω—É–ª–µ–≤–æ–µ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö `handleAddIngredient()` –≤ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `backend/apps/api/serializers.py` - —É–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö
- `frontend/src/pages/recipe-create/index.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `amount <= 0`
- `frontend/src/pages/recipe-edit/index.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `amount <= 0`

### 2. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ—Ü–µ–ø—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Å–∏—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **Backend:** –ò–∑–º–µ–Ω–µ–Ω–æ –ø–æ–ª–µ `image` –≤ `RecipeCreateUpdateSerializer` –Ω–∞ `required=False` –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `validate()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞
- **Frontend:** –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `checkIfDisabled()` –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `backend/apps/api/serializers.py` - –∏–∑–º–µ–Ω–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `frontend/src/pages/recipe-edit/index.js` - —É–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `recipeFile` –≤ `checkIfDisabled()`

### 3. –î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API –ø–æ –∞–¥—Ä–µ—Å—É api/docs

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –∞–¥—Ä–µ—Å—É api/docs.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω `drf-spectacular` –≤ `INSTALLED_APPS`
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `drf-spectacular` –≤ settings
- –î–æ–±–∞–≤–ª–µ–Ω—ã URL —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
  - `/api/v1/docs/` - Swagger UI
  - `/api/v1/redoc/` - ReDoc
  - `/api/v1/schema/` - OpenAPI —Å—Ö–µ–º–∞

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `backend/foodgram/settings/base.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è drf-spectacular
- `backend/apps/api/v1/urls.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã URL –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–µ—Å—Ç `test_recipe_creation_invalid_ingredient_amount` –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ç–µ—Å—Ç `test_recipe_update_without_image` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## üìã –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
   python -m pytest tests/test_api_serializers.py::TestRecipeCreateUpdateSerializer::test_recipe_creation_invalid_ingredient_amount -v
   ```

2. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞ –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
   python -m pytest tests/test_api_serializers.py::TestRecipeCreateUpdateSerializer::test_recipe_update_without_image -v
   ```

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
   python manage.py runserver
   
   # –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   # http://localhost:8000/api/v1/docs/ - Swagger UI
   # http://localhost:8000/api/v1/redoc/ - ReDoc  
   # http://localhost:8000/api/v1/schema/ - JSON —Å—Ö–µ–º–∞
   ```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–í—Å–µ –∑–∞–º–µ—á–∞–Ω–∏—è —Ä–µ–≤—å—é–≤–µ—Ä–∞ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `/api/v1/docs/` 

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –∑–∞–º–µ—á–∞–Ω–∏—è–º —Ä–µ–≤—å—é–µ—Ä–∞

### ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∞–¥–º–∏–Ω–∫–∏
- **–£–¥–∞–ª–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏**: `Group` –∏ `TokenProxy`
- **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞**: –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤**: –∏–º–ø–æ—Ä—Ç—ã —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É PEP8
  - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
  - –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏  
  - –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
  - –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏

- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ help_text**: –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –ø–æ–º–æ—â–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
  ```python
  help_text=f"–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. –ú–∞–∫—Å–∏–º—É–º {MAX_EMAIL_LENGTH} —Å–∏–º–≤–æ–ª–æ–≤."
  ```

- **–í–∞–ª–∏–¥–∞—Ü–∏—è username**: –¥–æ–±–∞–≤–ª–µ–Ω –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∑–∞–ø—Ä–µ—â–∞—é—â–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `'me'`
  ```python
  def validate_not_me(value):
      if value.lower() == 'me':
          raise ValidationError('–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "me" –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ.')
  ```

- **–ü–æ–ª–µ avatar**: –∏–∑–º–µ–Ω–µ–Ω–æ —Å `null=True` –Ω–∞ `default=""` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–µ—Ç–∞ username='me' –∏ 'ME'
- **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –∞–¥–º–∏–Ω–∫–∏**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è Group –∏ TokenProxy
- **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: 24/24 —Ç–µ—Å—Ç–æ–≤ –∞–¥–º–∏–Ω–∫–∏, 5/5 —Ç–µ—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏
- **–°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è**: `users/0003_auto_20250627_1740.py`
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ username
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—è avatar  
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ help_text –ø–æ–ª–µ–π

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**: `python manage.py check` - 0 –æ—à–∏–±–æ–∫
- ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: –∞–¥–º–∏–Ω–∫–∞, –º–æ–¥–µ–ª–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ **PEP8 —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è**: –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å**: üéØ **–í–°–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø –†–ï–í–¨–Æ–ï–†–ê –ò–°–ü–†–ê–í–õ–ï–ù–´** 